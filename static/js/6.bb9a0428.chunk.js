(this["webpackJsonpreact-training"]=this["webpackJsonpreact-training"]||[]).push([[6],{408:function(e,t,c){"use strict";c.r(t);var n=c(67),s=c(380),r=c(381),i=c(383),a=c(164),j=c(165),l=c(0),o=c.n(l),b=c(33),d=c(200),u=c(6),h=function(){var e=Object(b.c)(),t=Object(b.d)((function(e){return e.chat.status}));return Object(l.useEffect)((function(){return e(Object(d.c)()),function(){e(Object(d.d)())}}),[]),Object(u.jsxs)("div",{className:"mainFrame",style:{height:"calc(100vh - 176px)"},children:["error"===t&&Object(u.jsx)("div",{children:"Some error ocured. Please refresh the page"}),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(O,{}),Object(u.jsx)(x,{})]})]})},O=function(){var e=Object(b.d)((function(e){return e.chat.messages})),t=Object(l.useRef)(null),c=Object(l.useState)(!0),s=Object(n.a)(c,2),r=s[0],i=s[1];return Object(l.useEffect)((function(){var e;r&&(null===(e=t.current)||void 0===e||e.scrollIntoView({behavior:"smooth"}))}),[e]),Object(u.jsxs)("div",{style:{height:"calc(100% - 80px)",overflowY:"auto"},onScroll:function(e){var t=e.currentTarget;Math.abs(t.scrollHeight-t.scrollTop-t.clientHeight)<300?!r&&i(!0):r&&i(!1)},children:[e.map((function(e,t){return Object(u.jsx)(m,{message:e},e.id)})),Object(u.jsx)("div",{ref:t})]})},m=o.a.memo((function(e){var t=e.message;return Object(u.jsxs)(s.a,{gutter:24,style:{padding:"4px 0px",marginLeft:0,marginRight:0},children:[Object(u.jsx)(r.a,{xs:2,sm:1,style:{display:"flex",alignItems:"center",paddingLeft:0,paddingRight:0},children:Object(u.jsx)("img",{alt:"",src:t.photo,style:{width:"30px",borderRadius:"50%"}})}),Object(u.jsx)(r.a,{xs:21,sm:23,children:Object(u.jsxs)("div",{style:{padding:"4px 0"},children:[Object(u.jsx)("b",{children:t.userName}),Object(u.jsx)("br",{}),t.message]})})]})})),x=function(){var e=i.a.useForm(),t=Object(n.a)(e,1)[0],c=Object(b.c)(),l=Object(b.d)((function(e){return e.chat.status}));return Object(u.jsx)("div",{style:{bottom:0,position:"absolute",width:"calc(100% - 4rem)"},children:Object(u.jsx)(i.a,{form:t,name:"basic",initialValues:{remember:!0},onFinish:function(e){e.username&&(c(Object(d.b)(e.username)),t.resetFields())},onFinishFailed:function(e){console.log("Failed:",e)},autoComplete:"off",children:Object(u.jsxs)(s.a,{gutter:24,children:[Object(u.jsx)(r.a,{span:20,children:Object(u.jsx)(i.a.Item,{name:"username",children:Object(u.jsx)(j.a,{rows:3})})}),Object(u.jsx)(r.a,{span:4,style:{textAlign:"end"},children:Object(u.jsx)(i.a.Item,{children:Object(u.jsx)(a.a,{disabled:"ready"!==l,type:"primary",htmlType:"submit",children:"Send"})})})]})})})};t.default=function(){return Object(u.jsx)("div",{style:{position:"relative"},children:Object(u.jsx)(h,{})})}}}]);
//# sourceMappingURL=6.bb9a0428.chunk.js.map