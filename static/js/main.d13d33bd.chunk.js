(this["webpackJsonpreact-training"]=this["webpackJsonpreact-training"]||[]).push([[0],{119:function(e,t,n){e.exports={photo:"Users_photo__2hOPg",userBlock:"Users_userBlock__3uICQ",searchBtns:"Users_searchBtns__1Qzn8"}},192:function(e,t,n){"use strict";t.a=n.p+"static/media/incognito.bf62e8b7.jpeg"},195:function(e,t,n){"use strict";n.d(t,"c",(function(){return p})),n.d(t,"b",(function(){return h})),n.d(t,"f",(function(){return O})),n.d(t,"d",(function(){return m})),n.d(t,"e",(function(){return g}));var r=n(22),a=n.n(r),c=n(39),s=n(64),i=n(12),u=n(109),o=n(82),l=n(34),d={posts:[{id:0,message:"Hi, how are you?"},{id:1,message:"It's my first post"},{id:2,message:"It's my second post"}],profile:null,status:""},f=function(e){return{type:"SET_USER_PROFILE",profile:e}},j=function(e){return{type:"SET_STATUS",status:e}},b=function(e){return{type:"SAVE_PHOTO_SUCCESS",photos:e}},p=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.getProfile(e);case 2:r=t.sent,n(f(r));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},h=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.getStatus(e);case 2:r=t.sent,n(j(r));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},O=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.updateStatus(e);case 2:t.sent.resultCode===l.b.Success&&n(j(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.savePhoto(e);case 2:(r=t.sent).resultCode===l.b.Success&&n(b(r.data.photos));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},g=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n,r){var c,s;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=r().auth.userId,t.next=3,o.a.saveProfile(e);case 3:if((s=t.sent).resultCode!==l.b.Success){t.next=12;break}if(null===c){t.next=9;break}n(p(c)),t.next=10;break;case 9:throw new Error("userId can not be null");case 10:t.next=14;break;case 12:return n(Object(u.a)("edit-profile",{_error:s.messages[0]})),t.abrupt("return",Promise.reject(s.messages));case 14:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-POST":return Object(i.a)(Object(i.a)({},e),{},{posts:[].concat(Object(s.a)(e.posts),[{id:5,message:t.newPostText}])});case"SET_USER_PROFILE":return Object(i.a)(Object(i.a)({},e),{},{profile:t.profile});case"SET_STATUS":return Object(i.a)(Object(i.a)({},e),{},{status:t.status});case"DELETE_POST":return Object(i.a)(Object(i.a)({},e),{},{posts:e.posts.filter((function(e){return e.id!==t.postId}))});case"SAVE_PHOTO_SUCCESS":return Object(i.a)(Object(i.a)({},e),{},{profile:Object(i.a)(Object(i.a)({},e.profile),{},{photos:t.photos})});default:return e}}},196:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(64),a=n(12),c={dialogs:[{id:0,name:"Artem"},{id:1,name:"Vika"},{id:2,name:"Valya"},{id:3,name:"Kolya"},{id:4,name:"Dasha"}],messages:[{id:0,message:"Hi, I'm Artem. How are you?"},{id:1,message:"Hi, I'm Vika. How are you?"},{id:2,message:"Hi, I'm Valya. How are you?"},{id:3,message:"Hi, I'm Kolya. How are you?"},{id:4,message:"Hi, I'm Dasha. How are you?"}]},s={sendMessage:function(e){return{type:"SEND-MESSAGE",newMessageBody:e}}};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEND-MESSAGE":return Object(a.a)(Object(a.a)({},e),{},{messages:[].concat(Object(r.a)(e.messages),[{id:6,message:t.newMessageBody}])});default:return e}}},198:function(e,t,n){},200:function(e,t,n){"use strict";n.d(t,"c",(function(){return P})),n.d(t,"d",(function(){return U})),n.d(t,"b",(function(){return N}));var r=n(22),a=n.n(r),c=n(39),s=n(64),i=n(12),u={"messages-received":[],"status-changed":[]},o=null,l=function(){p("pending"),setTimeout(h,3e3)},d=function(e){u["messages-received"].forEach((function(t){return t(JSON.parse(e.data))}))},f=function(){p("ready")},j=function(){p("error")},b=function(){var e,t,n,r;null===(e=o)||void 0===e||e.removeEventListener("close",l),null===(t=o)||void 0===t||t.removeEventListener("message",d),null===(n=o)||void 0===n||n.removeEventListener("open",f),null===(r=o)||void 0===r||r.removeEventListener("error",j)},p=function(e){u["status-changed"].forEach((function(t){return t(e)}))};function h(){var e;b(),null===(e=o)||void 0===e||e.close(),o=new WebSocket("wss://social-network.samuraijs.com/handlers/ChatHandler.ashx"),p("pending"),o.addEventListener("close",l),o.addEventListener("message",d),o.addEventListener("open",f),o.addEventListener("error",j)}var O=function(){h()},m=function(){var e;u["messages-received"]=[],u["status-changed"]=[],b(),null===(e=o)||void 0===e||e.close()},g=function(e,t){return u[e].push(t),function(){u[e]=u[e].filter((function(e){return e!==t}))}},x=function(e,t){u[e]=u[e].filter((function(e){return e!==t}))},S=function(e){var t;null===(t=o)||void 0===t||t.send(e)},v=n(390),E={messages:[],status:"pending"},y=function(e){return{type:"SN/CHAT/MESSAGES_RECEIVED",payload:{messages:e}}},w=function(e){return{type:"SN/CHAT/STATUS_CHANGED",payload:{status:e}}},C=null,I=function(e){return null===C&&(C=function(t){e(y(t))}),C},_=null,T=function(e){return null===_&&(_=function(t){e(w(t))}),_},P=function(){return function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O(),g("messages-received",I(t)),g("status-changed",T(t));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},U=function(){return function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x("messages-received",I(t)),g("status-changed",T(t)),m();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},N=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:S(e);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SN/CHAT/MESSAGES_RECEIVED":return Object(i.a)(Object(i.a)({},e),{},{messages:[].concat(Object(s.a)(e.messages),Object(s.a)(t.payload.messages.map((function(e){return Object(i.a)(Object(i.a)({},e),{},{id:Object(v.a)()})})))).filter((function(e,t,n){return t>=n.length-100}))});case"SN/CHAT/STATUS_CHANGED":return Object(i.a)(Object(i.a)({},e),{},{status:t.payload.status});default:return e}}},255:function(e,t,n){},256:function(e,t,n){},34:function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var r,a,c=n(204),s=n.n(c).a.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,method:"POST",headers:{"API-KEY":"d0cd1c70-c7ec-4a74-996b-73cc42092264"}});!function(e){e[e.Success=0]="Success",e[e.Error=1]="Error"}(r||(r={})),function(e){e[e.CaptchaIsRequired=10]="CaptchaIsRequired"}(a||(a={}))},368:function(e,t,n){},369:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(41),s=n.n(c),i=(n(255),n(256),n(257),n(37)),u=n(51),o=n(12),l=n(67),d=n(33),f=n(22),j=n.n(f),b=n(39),p=n(64),h=n(34),O={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return h.c.get("users?page=".concat(e,"&count=").concat(t,"&term=").concat(n)+(null===r?"":"&friend=".concat(r))).then((function(e){return e.data}))},follow:function(e){return h.c.post("follow/".concat(e)).then((function(e){return e.data}))},unfollow:function(e){return h.c.delete("follow/".concat(e)).then((function(e){return e.data}))}},m={users:[],pageSize:10,totalUsersCount:200,currentPage:1,isFetching:!1,followingInProgress:[],filter:{term:"",friend:null}},g=function(e){return{type:"SN/USERS/FOLLOW",userId:e}},x=function(e){return{type:"SN/USERS/UNFOLLOW",userId:e}},S=function(e){return{type:"SN/USERS/SET_USERS",users:e}},v=function(e){return{type:"SN/USERS/SET_CURRENT_PAGE",currentPage:e}},E=function(e){return{type:"SN/USERS/SET_FILTER",payload:e}},y=function(e){return{type:"SN/USERS/SET_TOTAL_USERS_COUNT",count:e}},w=function(e){return{type:"SN/USERS/TOGGLE_IS_FETCHING",isFetching:e}},C=function(e,t){return{type:"SN/USERS/TOGGLE_IS_FOLLOWING_PROGRESS",isFetching:e,userId:t}},I=function(e,t,n){return function(){var r=Object(b.a)(j.a.mark((function r(a,c){var s;return j.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a(w(!0)),a(v(e)),a(E(n)),r.next=5,O.getUsers(e,t,n.term,n.friend);case 5:s=r.sent,a(w(!1)),a(S(s.items)),a(y(s.totalCount));case 9:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}()},_=function(){var e=Object(b.a)(j.a.mark((function e(t,n,r,a){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(C(!0,n)),e.next=3,r(n);case 3:e.sent.resultCode===h.b.Success&&t(a(n)),t(C(!1,n));case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SN/USERS/FOLLOW":return Object(o.a)(Object(o.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(o.a)(Object(o.a)({},e),{},{followed:!0}):e}))});case"SN/USERS/UNFOLLOW":return Object(o.a)(Object(o.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(o.a)(Object(o.a)({},e),{},{followed:!1}):e}))});case"SN/USERS/SET_USERS":return Object(o.a)(Object(o.a)({},e),{},{users:t.users});case"SN/USERS/SET_CURRENT_PAGE":return Object(o.a)(Object(o.a)({},e),{},{currentPage:t.currentPage});case"SN/USERS/SET_TOTAL_USERS_COUNT":return Object(o.a)(Object(o.a)({},e),{},{totalUsersCount:t.count});case"SN/USERS/TOGGLE_IS_FETCHING":return Object(o.a)(Object(o.a)({},e),{},{isFetching:t.isFetching});case"SN/USERS/SET_FILTER":return Object(o.a)(Object(o.a)({},e),{},{filter:t.payload});case"SN/USERS/TOGGLE_IS_FOLLOWING_PROGRESS":return Object(o.a)(Object(o.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(p.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});default:return e}},P=n(216),U=Object(P.a)((function(e){return e.usersPage.users}),(function(e){return e.filter((function(e){return!0}))})),N=function(e){return e.usersPage.pageSize},k=function(e){return e.usersPage.totalUsersCount},R=function(e){return e.usersPage.currentPage},A=function(e){return e.usersPage.isFetching},L=function(e){return e.usersPage.followingInProgress},F=function(e){return e.usersPage.filter},G=n(385),H=n(6),D=function(e){var t=e.totalItemsCount,n=e.currentPage,r=e.onPageChanged;return Object(H.jsx)(G.a,{simple:!0,onChange:function(e){r(e)},defaultCurrent:n,total:t})},B=n(119),z=n.n(B),M=n(192),V=n(164),W=function(e){var t=e.user,n=e.followingInProgress,r=e.unfollow,a=e.follow;return Object(H.jsxs)("div",{className:z.a.userBlock,children:[Object(H.jsxs)("span",{children:[Object(H.jsx)("div",{children:Object(H.jsx)(u.c,{to:"/profile/"+t.id,children:Object(H.jsx)("img",{style:{borderRadius:"50%",marginBottom:4},src:null!=t.photos.small?t.photos.small:M.a,className:z.a.photo,alt:""})})}),Object(H.jsx)("div",{children:t.followed?Object(H.jsx)(V.a,{disabled:n.some((function(e){return e===t.id})),onClick:function(){r(t.id)},children:"Unfollow"}):Object(H.jsx)(V.a,{disabled:n.some((function(e){return e===t.id})),onClick:function(){a(t.id)},children:"Follow"})})]}),Object(H.jsx)("span",{children:Object(H.jsxs)("span",{children:[Object(H.jsx)("div",{style:{fontSize:18},children:t.name}),Object(H.jsx)("div",{style:{color:"#696969",marginTop:4},children:t.status})]})})]})},q=n(383),K=n(121),J=n(380),Q=n(381),X=n(388),Z=a.a.memo((function(e){var t=q.a.useForm(),n=Object(l.a)(t,1)[0],a=Object(d.d)(F),c=Object(r.useState)(a.term),s=Object(l.a)(c,2),i=(s[0],s[1]);Object(r.useEffect)((function(){i(a.term),n.setFieldsValue({term:a.term,friend:String(a.friend)})}),[n,a.term]);var u=K.a.Option;return Object(H.jsx)("div",{className:"mainFrame",children:Object(H.jsx)(q.a,{form:n,name:"control-hooks",onFinish:function(t){var n={term:t.term,friend:"null"===t.friend?null:"true"===t.friend};e.onFilterChanged(n)},autoComplete:"off",children:Object(H.jsxs)(J.a,{children:[Object(H.jsx)(Q.a,{xs:16,sm:10,md:12,children:Object(H.jsx)(q.a.Item,{name:"term",rules:[{required:!0}],style:{marginBottom:0},children:Object(H.jsx)(X.a,{placeholder:"Developers"})})}),Object(H.jsx)(Q.a,{xs:8,sm:6,md:4,children:Object(H.jsx)(q.a.Item,{name:"friend",rules:[{required:!0}],style:{marginBottom:0,marginLeft:"1rem"},children:Object(H.jsxs)(K.a,{placeholder:"Select an option",allowClear:!0,children:[Object(H.jsx)(u,{value:"null",children:"All"}),Object(H.jsx)(u,{value:"true",children:"Followed"}),Object(H.jsx)(u,{value:"false",children:"Unfollowed"})]})})}),Object(H.jsx)(Q.a,{xs:14,sm:8,md:8,children:Object(H.jsxs)(J.a,{className:z.a.searchBtns,children:[Object(H.jsx)(Q.a,{xs:9,sm:12,md:10,children:Object(H.jsx)(q.a.Item,{style:{marginBottom:0},children:Object(H.jsx)(V.a,{type:"primary",htmlType:"submit",children:"Search"})})}),Object(H.jsx)(Q.a,{xs:9,sm:12,md:10,children:Object(H.jsx)(q.a.Item,{style:{marginBottom:0,marginLeft:"1rem"},children:Object(H.jsx)(V.a,{htmlType:"button",onClick:function(){n.resetFields(),e.setOnReset(!0)},children:"Reset"})})})]})})]})})})})),Y=n(162),$=function(){var e=Object(d.d)(U),t=Object(d.d)(k),n=Object(d.d)(R),a=Object(d.d)(N),c=Object(d.d)(F),s=Object(d.d)(L),u=Object(d.c)(),f=Object(i.g)(),p=Object(r.useState)(!1),h=Object(l.a)(p,2),m=h[0],S=h[1];Object(r.useEffect)((function(){var e=Y.parse(f.location.search.substring(1)),t=n,r=c;e.page&&(t=+e.page),e.term&&(r=Object(o.a)(Object(o.a)({},r),{},{term:e.term})),e.friend&&(r=Object(o.a)(Object(o.a)({},r),{},{friend:"null"===e.friend?null:"true"===e.friend})),u(I(t,a,r))}),[]),Object(r.useEffect)((function(){m?(f.push({pathname:"/developers",search:""}),c.friend=null,c.term="",u(I(1,a,c))):f.push({pathname:"/developers",search:"?term=".concat(c.term,"&friend=").concat(c.friend,"&page=").concat(n)})}),[c,n,m]),Object(r.useEffect)((function(){var e={};c.term&&(e.term=c.term),null!==c.friend&&(e.friend=String(c.friend)),1!==n&&(e.page=String(n)),f.push({pathname:"/developers",search:Y.stringify(e)})}),[c,n]);var v=function(e){u(function(e){return function(){var t=Object(b.a)(j.a.mark((function t(n){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_(n,e,O.follow.bind(e),g);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e))},E=function(e){u(function(e){return function(){var t=Object(b.a)(j.a.mark((function t(n){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_(n,e,O.unfollow.bind(e),x);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e))};return Object(H.jsxs)("div",{children:[Object(H.jsx)(Z,{onFilterChanged:function(e){u(I(1,a,e))},setOnReset:S}),Object(H.jsxs)("div",{className:"mainFrame",style:{marginTop:"1rem"},children:[Object(H.jsx)(D,{currentPage:n,totalItemsCount:t,pageSize:a,onPageChanged:function(e){u(I(e,a,c))}}),e.map((function(e){return Object(H.jsx)(W,{user:e,followingInProgress:s,unfollow:E,follow:v},e.id)}))]})]})},ee=n(95),te=function(){var e=Object(d.d)(A);return Object(H.jsxs)(H.Fragment,{children:[e?Object(H.jsx)(ee.a,{}):null,Object(H.jsx)($,{})]})},ne=n(109),re=function(){return h.c.get("security/get-captcha-url").then((function(e){return e.data}))},ae=function(){return h.c.get("auth/me").then((function(e){return e.data}))},ce=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return h.c.post("auth/login",{email:e,password:t,rememberMe:n,captcha:r}).then((function(e){return e.data}))},se=function(){return h.c.delete("auth/login").then((function(e){return e.data}))},ie=n(82),ue={userId:null,email:null,login:null,isAuth:!1,photo:null,captchaUrl:null},oe=function(e,t,n,r,a){return{type:"samurai-network/auth/SET_USER_DATA",payload:{userId:e,email:t,login:n,isAuth:r,photo:a}}},le=function(e){return{type:"samurai-network/auth/GET_CAPTCHA_URL_SUCCESS",payload:{captchaUrl:e}}},de=function(){return function(){var e=Object(b.a)(j.a.mark((function e(t){var n,r,a,c,s,i,u;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae();case 2:if((n=e.sent).resultCode!==h.b.Success){e.next=10;break}return r=n.data,a=r.id,c=r.login,s=r.email,e.next=7,ie.a.getProfile(a);case 7:i=e.sent,u=i.photos.small,t(oe(a,s,c,!0,u));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},fe=function(){return function(){var e=Object(b.a)(j.a.mark((function e(t){var n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re();case 2:n=e.sent,r=n.url,t(le(r));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"samurai-network/auth/SET_USER_DATA":case"samurai-network/auth/GET_CAPTCHA_URL_SUCCESS":return Object(o.a)(Object(o.a)({},e),t.payload);default:return e}},be=n(389),pe=function(){var e=Object(d.d)((function(e){return e.auth.captchaUrl})),t=Object(d.d)((function(e){return e.auth.isAuth})),n=Object(d.c)();if(t)return Object(H.jsx)(i.a,{to:"/profile"});return Object(H.jsx)("div",{style:{backgroundColor:"#fff",borderRadius:"12px",padding:"2rem"},children:Object(H.jsxs)(q.a,{layout:"vertical",name:"basic",labelCol:{span:12},wrapperCol:{xs:{span:24},sm:{span:10}},initialValues:{remember:!0},onFinish:function(e){var t,r,a,c;n((t=e.email,r=e.password,a=e.rememberMe,c=e.captcha,function(){var e=Object(b.a)(j.a.mark((function e(n){var s,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce(t,r,a,c);case 2:(s=e.sent).resultCode===h.b.Success?n(de()):(s.resultCode===h.a.CaptchaIsRequired&&n(fe()),i=s.messages.length>0?s.messages[0]:"Some error",n(Object(ne.a)("login",{_error:i})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},onFinishFailed:function(e){console.log("Failed:",e)},autoComplete:"off",children:[Object(H.jsx)(q.a.Item,{label:"E-mail",name:"email",rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}],children:Object(H.jsx)(X.a,{})}),Object(H.jsx)(q.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"}],children:Object(H.jsx)(X.a.Password,{})}),Object(H.jsx)(q.a.Item,{name:"rememberMe",valuePropName:"rememberMe",wrapperCol:{span:16},children:Object(H.jsx)(be.a,{children:"Remember me"})}),e&&Object(H.jsx)("img",{src:e,alt:""}),e&&Object(H.jsx)(q.a.Item,{label:"Captcha",extra:"We must make sure that your are a human.",children:Object(H.jsxs)(J.a,{gutter:8,children:[Object(H.jsx)(Q.a,{span:12,children:Object(H.jsx)(q.a.Item,{name:"captcha",noStyle:!0,rules:[{required:!0,message:"Please input the captcha you got!"}],children:Object(H.jsx)(X.a,{})})}),Object(H.jsx)(Q.a,{span:12,children:Object(H.jsx)(V.a,{children:"Get captcha"})})]})}),Object(H.jsx)(q.a.Item,{wrapperCol:{span:16},children:Object(H.jsx)(V.a,{type:"primary",htmlType:"submit",children:"Submit"})})]})})},he={initialized:!1},Oe=function(){return{type:"INITIALIZED_SUCCESS"}},me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALIZED_SUCCESS":return Object(o.a)(Object(o.a)({},e),{},{initialized:!0});default:return e}},ge=n(108),xe=n(195),Se=n(196),ve={},Ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve;return e},ye=n(211),we=n(199),Ce=n(200),Ie=Object(ge.b)({profilePage:xe.a,dialogsPage:Se.b,sidebar:Ee,usersPage:T,auth:je,form:we.a,app:me,chat:Ce.a}),_e=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ge.c,Te=Object(ge.d)(Ie,_e(Object(ge.a)(ye.a)));var Pe=function(e){return function(t){return Object(H.jsx)(a.a.Suspense,{fallback:Object(H.jsx)(ee.a,{}),children:Object(H.jsx)(e,Object(o.a)({},t))})}},Ue=n(382),Ne=n(384),ke=(n(198),function(){return Object(H.jsx)(Ne.a,{mode:"inline",className:"sidebar",selectedKeys:"",items:[{label:Object(H.jsx)(u.b,{to:"/profile",children:"Profile"})},{label:Object(H.jsx)(u.b,{to:"/dialogs",children:"Messages"})},{label:Object(H.jsx)(u.b,{to:"/developers",children:"Developers"})},{label:Object(H.jsx)(u.b,{to:"/chat",children:"Chat"})}]})}),Re=function(e){var t=e.menu;return Object(H.jsx)(Ue.a.Sider,{className:"sidebar",breakpoint:"lg",theme:"light",collapsedWidth:0,trigger:null,children:t})},Ae=n(386),Le=n(387),Fe=n(391),Ge=(n(368),function(e){return e.auth.isAuth}),He=function(e){return e.auth.photo},De=function(e){return e.auth.userId},Be=n(75),ze=function(e){var t=e.menu,n=Object(d.d)(Ge),a=Object(d.d)(He),c=Object(d.d)((function(e){return e.profilePage.profile})),s=Object(d.d)(De),o=Object(d.c)(),f=Object(r.useState)(!1),p=Object(l.a)(f,2),O=p[0],m=p[1];return n||i.a,Object(H.jsxs)(H.Fragment,{children:[!n&&Object(H.jsx)(i.a,{to:"/login"}),Object(H.jsx)(Be.c,{style:{position:"fixed",width:"-webkit-fill-available",zIndex:2},children:Object(H.jsxs)(J.a,{children:[Object(H.jsxs)(Q.a,{xs:10,md:17,lg:18,xl:19,children:[Object(H.jsx)(V.a,{className:"menu",type:"primary",icon:Object(H.jsx)(Fe.a,{}),onClick:function(){return m(!0)}}),Object(H.jsx)(Ae.a,{placement:"left",onClose:function(){return m(!1)},open:O,children:Object(H.jsx)("div",{onClick:function(){return m(!1)},children:t})})]}),Object(H.jsx)(Q.a,{xs:14,md:7,lg:6,xl:5,style:{display:"flex",justifyContent:"end"},children:Object(H.jsx)(J.a,{children:n?Object(H.jsxs)("div",{children:[Object(H.jsx)(Le.a,{src:(null===c||void 0===c?void 0:c.userId)===s?c.photos.small:a}),Object(H.jsx)(V.a,{onClick:function(){o(function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se();case 2:e.sent.resultCode===h.b.Success&&t(oe(null,null,null,!1,null));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},style:{marginLeft:"1rem"},children:"Logout"})]}):Object(H.jsx)(u.c,{to:"/login",children:"Login"})})})]})})]})},Me=Ue.a.Content,Ve=Ue.a.Footer,We=a.a.lazy((function(){return n.e(4).then(n.bind(null,413))})),qe=a.a.lazy((function(){return Promise.all([n.e(3),n.e(5)]).then(n.bind(null,412))})),Ke=a.a.lazy((function(){return n.e(6).then(n.bind(null,408))})),Je=Pe(qe),Qe=Pe(We),Xe=function(){var e=Object(d.c)(),t=Object(d.d)((function(e){return e.app.initialized}));return Object(r.useEffect)((function(){e((function(e){var t=e(de());Promise.all([t]).then((function(){e(Oe())}))}))}),[e]),t?Object(H.jsxs)(Ue.a,{style:{display:"flex",flexDirection:"column",minHeight:"100vh"},children:[Object(H.jsx)(ze,{menu:Object(H.jsx)(ke,{})}),Object(H.jsx)(J.a,{style:{flex:1},children:Object(H.jsx)(Q.a,{xs:24,sm:24,md:{span:22,offset:1},lg:{span:22,offset:1},xl:{span:18,offset:3},xxl:{span:14,offset:5},children:Object(H.jsx)(Me,{style:{padding:"64px 0px 0"},children:Object(H.jsxs)(Ue.a,{hasSider:!0,className:"site-layout-background",style:{padding:"24px 0 0"},children:[Object(H.jsx)(Re,{menu:Object(H.jsx)(ke,{})}),Object(H.jsx)(Ue.a,{className:"site-layout-background",children:Object(H.jsx)(Me,{style:{padding:"0 1rem",minHeight:280,overflow:"initial"},children:Object(H.jsxs)(i.d,{children:[Object(H.jsx)(i.b,{exact:!0,path:"/",render:function(){return Object(H.jsx)(i.a,{to:"/profile"})}}),Object(H.jsx)(i.b,{exact:!0,path:"/profile/:userId?",render:function(){return Object(H.jsx)(Je,{})}}),Object(H.jsx)(i.b,{path:"/dialogs",render:function(){return Object(H.jsx)(Qe,{})}}),Object(H.jsx)(i.b,{path:"/developers",render:function(){return Object(H.jsx)(te,{})}}),Object(H.jsx)(i.b,{exact:!0,path:"/login",render:function(){return Object(H.jsx)(pe,{})}}),Object(H.jsx)(i.b,{exact:!0,path:"/chat",render:Pe(Ke)}),Object(H.jsx)(i.b,{path:"*",render:function(){return Object(H.jsx)("div",{children:"404 PAGE NOT FOUND"})}})]})})})]})})})}),Object(H.jsx)(Ve,{style:{textAlign:"center",padding:"16px 50px"},children:"React Social Network App\xa92022 Created by Artem Blyzniakov"})]}):Object(H.jsx)(ee.a,{})},Ze=function(){return Object(H.jsx)(u.a,{basename:"/",children:Object(H.jsx)(d.a,{store:Te,children:Object(H.jsx)(a.a.StrictMode,{children:Object(H.jsx)(Xe,{})})})})};s.a.render(Object(H.jsx)(Ze,{}),document.getElementById("root"))},82:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(34),a={getProfile:function(e){return r.c.get("profile/".concat(e)).then((function(e){return e.data}))},getStatus:function(e){return r.c.get("profile/status/".concat(e)).then((function(e){return e.data}))},updateStatus:function(e){return r.c.put("profile/status",{status:e}).then((function(e){return e.data}))},savePhoto:function(e){var t=new FormData;return t.append("image",e),r.c.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return e.data}))},saveProfile:function(e){return r.c.put("profile",e).then((function(e){return e.data}))}}},95:function(e,t,n){"use strict";var r=n(370),a=(n(0),n(6));t.a=function(){return Object(a.jsx)("div",{style:{position:"fixed",insetInlineEnd:0,height:"100vh",width:"100vw",textAlign:"center",right:0,left:0,top:0,bottom:0,background:"rgba(0, 0, 0, 0.3)",display:"flex",justifyContent:"center",zIndex:9999,verticalAlign:"center",alignItems:"center"},children:Object(a.jsx)(r.a,{})})}}},[[369,1,2]]]);
//# sourceMappingURL=main.d13d33bd.chunk.js.map